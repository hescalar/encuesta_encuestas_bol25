<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="H. Esteban Calisaya Aranda">

<title>Encuesta de encuestas - Encuesta de encuestas: Elecciones Generales Bolivia 2025</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script>
<meta name="google-site-verification" content="6TMitLunJmIOOgCVNH0qwU8Jp9Fsmi5UhFKj3PyuvGE">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Encuesta de encuestas</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Buscar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Inicio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./#gráficos-de-votos-totales" rel="" target="">
 <span class="menu-text">Voto total</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./#gráficos-de-votos-válidos" rel="" target="">
 <span class="menu-text">Voto válido</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/hescalar/encuesta_encuestas_bol25" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">En esta página</h2>
   
  <ul>
  <li><a href="#registro-de-cambios" id="toc-registro-de-cambios" class="nav-link active" data-scroll-target="#registro-de-cambios">Registro de cambios</a></li>
  <li><a href="#presentación" id="toc-presentación" class="nav-link" data-scroll-target="#presentación">Presentación</a></li>
  <li><a href="#gráficos-de-votos-totales" id="toc-gráficos-de-votos-totales" class="nav-link" data-scroll-target="#gráficos-de-votos-totales">Gráficos de votos totales</a></li>
  <li><a href="#gráficos-de-votos-válidos" id="toc-gráficos-de-votos-válidos" class="nav-link" data-scroll-target="#gráficos-de-votos-válidos">Gráficos de votos válidos</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Encuesta de encuestas: Elecciones Generales Bolivia 2025</h1>
<p class="subtitle lead">Última actualización: 30 de junio de 2025</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor/a</div>
    <div class="quarto-title-meta-contents">
             <p>H. Esteban Calisaya Aranda </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Fecha de publicación</div>
    <div class="quarto-title-meta-contents">
      <p class="date">27 de junio de 2025</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="registro-de-cambios" class="level2">
<h2 class="anchored" data-anchor-id="registro-de-cambios">Registro de cambios</h2>
<p><strong>30/06/2025</strong>: Se añade información de la segunda encuesta de Captura Consulting publicada por Red Uno y RTP publicada en esta fecha. También se agrega la primera encuesta de la misma consultora, que corresponde al periodo de fines de marzo. Se introducen algunas modificaciones menores al análisis e interpretación en función de la nueva información. Optimizaciones, cambios estéticos menores en gráficas y correción ortográfica y de estilo del texto.</p>
<p><strong>27/06/2025</strong>: Primera publicación con las encuestas de junio (UNITEL y El Deber) y encuesta de Marcelo Claure de fines de marzo como punto de referencia.</p>
</section>
<section id="presentación" class="level2">
<h2 class="anchored" data-anchor-id="presentación">Presentación</h2>
<p>Este es un ejercicio de análisis electoral y visualización de datos inspirado en el trabajo de <a href="https://polls.politico.mx/">Político.mx</a>, la idea es recopilar en una base de datos públicas las encuestas oficiales (y tal vez las no oficiales) para compararlas en el tiempo. La base de datos se encuentra en este <a href="https://docs.google.com/spreadsheets/d/1Nr5mlVI1PAIXpaOtmRugJbwyriQYlAUt5Ldehq8VZ6E/edit?gid=0#gid=0">archivo de sheets</a> y el diccionario de datos en este <a href="https://docs.google.com/spreadsheets/d/1VJZkKd5dDWnHzbOO3G4o7yeW8jh1GZJIhykaApI05MQ/edit?gid=1761737635#gid=1761737635">otro</a></p>
<p>Si quieres saber quién soy yo, puedes consultar mi linkedIn <a href="https://www.linkedin.com/in/hescalar/">aquí</a>.</p>
<p>En esta primera versión he optado por cubrir la mayor cantidad de información disponible y medianamente comparable posible. En este sentido, se ha incluido una encuesta no “oficial”, en el sentido de que no se encuentra autorizada por el Tribunal Supremo Electoral y lo que esto conlleva (validación técnica, levantada en los tiempos establecidos, etc), me refiero a la “súper encuesta” de Marcelo Claure y la consultora “panterra.global”.</p>
<p>De cualquier manera, esta es la única fotografía previa (casi 3 meses atrás) que tiene información sobre los tres primeros lugares, por lo que parece al menos ser un buen punto de referencia para observar algunos cambios en las tendencias.</p>
</section>
<section id="gráficos-de-votos-totales" class="level2">
<h2 class="anchored" data-anchor-id="gráficos-de-votos-totales">Gráficos de votos totales</h2>
<p>La intención de voto total toma en cuenta a los votos blancos, nulos e indecisos, estos tres representan ahora mismo entre 17 y 28 puntos porcentuales. Para referencia, en la elección de 2020 los blancos y nulos alcanzaron apenas 5% de los votos emitidos, en el proceso electoral de 2019 su proporción fue similar, mientras que en las elecciones generales de 2014 estuvieron cerca del 5.8%.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/grafico-total1-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p>Las mayores variaciones entre las encuestas se concentran precisamente en los votos blancos, nulos e indecisos, lo que refleja la volatilidad de este segmento. Para estimar el porcentaje de electores indecisos que emitirán un voto válido, podemos realizar el siguiente cálculo:</p>
<ol type="1">
<li><p><strong>Promedio de indecisos en encuestas recientes</strong>:<br>
<span class="math display">\[
\text{Promedio}_{\text{indecisos}} = \frac{17\%\,(\text{SPIE}) + 27\%\,(\text{IPSOS}) + 28\%\,(\text{Captura})}{3} = 24\%
\]</span></p></li>
<li><p><strong>Ajuste por votos nulos/blancos históricos</strong>:<br>
Asumiendo que, en etapas finales, alrededor del 5% de los votos serán nulos o blancos (basado en tendencias históricas), el porcentaje estimado de electores indecisos con voto válido sería:<br>
<span class="math display">\[
\text{Indecisos}_{\text{válidos}} = \text{Promedio}_{\text{indecisos}} - 5\% = \mathbf{19\%}
\]</span></p></li>
</ol>
<p>Por lo tanto, aproximadamente <strong>19% del electorado</strong> emitirá un voto válido pero aún no se ha definido por ninguna candidatura. En un contexto de crisis, es probable que esta decisión se retrase hasta el último momento, a menos que un evento catalizador permita a los votantes inclinarse por una opción o descartar alternativas.</p>
<p>Cabe destacar que los hallazgos de todas las encuestadoras muestran cierto grado de consistencia. Todas coinciden en las candidaturas que ocupan el primero, segundo y tercer lugar. Eso sí, las mayores diferencias estadísticamente significativas, es decir, tomando en cuenta los márgenes de error, se dan en la separación porcentual entre los candidatos, como se explica a continuación.</p>
<p>Llama la atención las estimaciones para la candidatura de UNIDAD (Samuel Doria Medina), a quien SPIE Consulting sitúa en el primer lugar con cerca del 25%, mientras que IPSOS CIESMORI también declara ganador a Samuel, pero lo hace con 5% menos, y con una diferencia casi nula con el segundo lugar, ocupado por Tuto Quiroga (LIBRE). Captura Consulting muestra las mismas tendencias, pero con márgenes todavía más modestos, Samuel sería el ganador con 19.6%, seguido por Tuto Quiroga con 16.6% puntos porcentuales menos; esta diferencia de Captura Consulting comparada con las otras encuestas se explica porque también recoge los niveles de indecisión más altos con 15.5%, al igual que nulos y blancos (12.4% si sumamos estos últimos).</p>
<p>Si hablamos de las diferencias entre los primeros y segundos lugares, estas no son estadísticamente significativas en ningún caso. El tercer lugar lo ocupa Andrónico Rodríguez (Alianza Popular). Según IPSOS CIESMORI, el presidente del senado se encuentra relativamente cerca de Tuto -alrededor de 4.2 puntos y a casi 5 puntos de Samuel, pero SPIE Consulting lo posiciona a más de 7 puntos del segundo lugar y casi 10 puntos del primero; Captura Consulting pone a Rodríguez a 3 puntos del segundo lugar y 5 puntos del primero. Este margen relativamente amplio y por encima de los errores estadísiticos proyectados puede ser síntoma de que alguna de las consultoras está errada en la distancia entre Rodríguez y el segundo y primer lugar, o de que hay diferencias cualitativas entre el electorado explicados por los cambios en la coyuntura correspondiente los periodos de levantamiento.</p>
<p>Sobre esto último, IPSOS-CIESMORI realizó su investigación de campo durante la última semana de mayo, SPIE Consulting la llevó a cabo la segunda semana de junio, y Captura Consulting también realizó sus entrevistas durante mediados de junio. Dado que los resultados de IPSOS y Captura muestran mayor consistencia -a pesar de tener 2 semanas entre un operativo estadístico y otro-, parece más probable que las diferencias entre los tres primeros lugares son más pequeñas de lo que a SPIE Consulting (y su medio de comunicación contratante, El Deber) le gustaría.</p>
<p>Teniendo en cuenta que las candidaturas con las campañas aparentemente más organizadas y con más recursos hasta el momento (Samuel y Tuto) son las que están liderando la intención de voto durante el mes de junio, parece ser que el electorado premia a quienes están haciendo su tarea como candidatos. Tal vez la excepción a la regla es Manfred Reyes Villa, quien a pesar de estar movilizando aparato, recursos y visitando medios de comunicación constantemente, parece no poder proyectarse a nivel nacional. Posteriormente (y en función de mi tiempo disponible) intentaré desagregar el análisis al menos a nivel regional, pues las encuestas observadas presentan errores de estimación muy altos a nivel subnacional, en especial en los departamentos menos poblados.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/grafico-total2-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p>Sobra decir que la inestabilidad política, la improvisación de los partidos políticos, la judicialización de la elección y la endeble respuesta del Tribunal Supremo Electoral no han permitido que las campañas despeguen. Muchos de los partidos iniciaron oficialmente sus camapañas el fin de semana del 28 de junio. Según el calendario electoral, los partidos pueden presentar sustitutos hasta 45 días antes de la elección en caso de que los candidatos renuncien, esto es, hasta el viernes 4 de julio. En otras palabras, no será hasta esa fecha que se cierren las negociaciones políticas y podamos conocer a las candidaturas “firmes”. Después de ese día, las únicas sustituciones de candidaturas podrán ser por causa de inhabilitación, fallecimiento o incapacidad total.</p>
<p>Justamente entrando en la dinámica, es estrepitosa la caída de casi 10 puntos que sufre Andrónico entre fines de marzo y mediados de junio. Mucho ha sucedido en todo este tiempo, el conflicto entre los grupos evistas y el gobierno, su constante inacción ante los embates de sus adversarios (internos y externos) y la escisión definitiva del MAS en tres bloques (el MAS-IPSP como tal, el mismo Andrónico y el grupo evista) parecen haber cobrado una dolorosa factura. Sin embargo, considero también que resulta en el candidato más conciliador y con mayor potencial de crecimiento desde el movimiento popular. Eduardo del Castillo le está representando al MAS-IPSP el nivel de preferencia electoral más bajo en casi 25 años, no me animo a decir si el rechazo se debe a su persona como tal o más bien a que el electorado sigue viendo en él la sombra de Lucho Arce, quién se encuentra en mínimos históricos de aprobación. Y claro, es muy difícil que uno de los ministros más visibles del oficialismo logre desvincular su imagen de la del gobierno arcista a unos meses de las elecciones, por mucho que lo haya estado intentando.Junto el MAS-IPSP se ven 3 candidaturas más que estadísticamente hablando podrían tener votaciones prácticamente nulas, Eva Copa (MORENA), Antonio Saravia (Libertad y Progreso) y Jaime Dunn (Nueva Generación Patriótica).</p>
<p>Parece ser que aquellos ultra-libertarios que en sus sueños más guajiros pensaron que era posible un Milei boliviano van a amanecer mojados. Esto no quita que, sin importar el gobierno que venga, vendrá el ajuste económico y los correspondientes costos sociales para las clases más vulnerables, pero ese es tema de otro tipo de análisis.</p>
</section>
<section id="gráficos-de-votos-válidos" class="level2">
<h2 class="anchored" data-anchor-id="gráficos-de-votos-válidos">Gráficos de votos válidos</h2>
<p>Finalmente, se presenta el ejercicio con el voto efectivo, aunque este debe ser tomado con precaución, dado el altísimo porcentaje de indecisos, nulos y blancos, que pueden fluctuar mucho entre hoy y el día de la elección.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/grafico-efectivo1-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p>Las tendencias siguen el mismo camino de la votación total, el único objetivo de estas visualizaciones es observar si alguna candidatura se acerca al ansiado 50% + 1 voto que permite una victoria en primera vuelta. Pero ninguno alcanza siquiera el 30%</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="index_files/figure-html/grafico-efectivo2-1.png" class="img-fluid" width="864"></p>
</div>
</div>
<p>En la virtual situación de que la elección fuera este fin de semana y que los indecisos no tomen partido alguno, la segunda vuelta sería contendida por Samuel Doria Medina y Tuto Quiroga Ramírez.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>